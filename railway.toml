[build]
builder = "NIXPACKS"

[deploy]
startCommand = "bash start.sh"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

# Health check configuration for Railway
# The /health endpoint returns 200 when the service is healthy
# Healthcheck timeout increased to 120s to handle cold starts with slow external services
# Initial delay set to 30s - app should be ready quickly, but give buffer for container startup
# Note: Startup optimizations applied to Statsig (5s timeout) and Supabase (10s timeout)
healthcheckPath = "/health"
healthcheckTimeout = 120
healthcheckInterval = 30
initialDelaySeconds = 30
